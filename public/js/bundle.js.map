{"version":3,"sources":["settings/settings.js","pokedex/controller/pokedex.controller.js","pokedex/services/pokedex.service.js","pokemon/controller/pokemon.controller.js","pokemon/model/comment.model.js","pokemon/model/pokemon.model.js"],"names":["angular","app","module","config","$routeProvider","$locationProvider","html5Mode","when","templateUrl","otherwise","redirectTo","window","PokedexController","$pokedex","items","get","then","response","controller","URL_API","DEFAULT_ROUTE","PokedexService","$http","$q","route","id","defer","url","getRoute","data","reject","results","resolve","promise","service","PokemonController","$routeParams","CommentModel","PokemonModel","pokemon","comment","setData","save","user","text","firebase","all","params","pokemonName","name","db","database","ref","push","set","once","val","factory","instance","create"],"mappings":"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","file":"bundle.js","sourcesContent":["((angular) => {\n\n    'use strict';\n\n    var app = angular.module('app', ['ngRoute']);\n\n    app.config(function($routeProvider, $locationProvider) {\n\n       $locationProvider.html5Mode(true);\n\n       $routeProvider\n       .when('/', {\n          templateUrl : '../views/pokedex.html'\n       })\n\n       .when('/pokemon/:id', {\n          templateUrl : '../views/pokemon.html'\n       })\n\n       .otherwise ({ redirectTo: '/' });\n\n    });\n})(window.angular);\n","((angular) => {\n\n    'use strict';\n\n    class PokedexController {\n\n        constructor($pokedex){\n\n            /**\n            * Services\n            */\n            this.$pokedex = $pokedex;\n\n            /**\n            * Properties\n            */\n            this.items = [];\n        }\n\n        /**\n        * Initialize PokedexController\n        */\n        init(){\n\n            this.$pokedex.get('pokemon').then((response) => {\n                this.items = response;\n            });\n\n            return true;\n        }\n\n    }\n\n    angular.module('app').controller('PokedexController', PokedexController);\n\n})(window.angular);\n","((angular) => {\n\n    'use strict';\n\n    /**\n    * Constants of the service\n    */\n    const URL_API = 'https://pokeapi.co/api/v2/',\n          DEFAULT_ROUTE = 'pokemon';\n\n    class PokedexService {\n\n        constructor($http, $q){\n            this.$http = $http;\n            this.$q = $q;\n        }\n\n        /**\n        * Method to get data at API\n        */\n        get(route, id) {\n\n            let defer = this.$q.defer(),\n                url = this.getRoute(route, id);\n\n            this.$http.get(url).then((response)=> {\n\n                response = response.data;\n\n                if(!response){\n                    defer.reject('There isn\\'t result');\n                }\n\n                // It's necessary because the api doesn't has a pattern for responses\n                response = response.results || response;\n\n                defer.resolve(response);\n            });\n\n            return defer.promise;\n        }\n\n        /**\n        * Build route for request\n        */\n        getRoute(route = DEFAULT_ROUTE, id = 0) {\n\n            route = URL_API + route;\n\n            if(id){\n                route += `/${id}`;\n            }\n\n            return route;\n        }\n\n\n    }\n\n    angular.module('app').service('$pokedex', PokedexService);\n\n})(window.angular);\n","((angular) => {\n\n    'use strict';\n\n    class PokemonController {\n\n        constructor($pokedex, $routeParams, CommentModel, PokemonModel){\n\n            /**\n            * Services\n            */\n            this.$pokedex = $pokedex;\n            this.$routeParams = $routeParams;\n            this.PokemonModel = PokemonModel;\n            this.CommentModel = CommentModel;\n\n            /**\n            * Properties\n            */\n            this.pokemon = {};\n            this.comment = {};\n        }\n\n        /**\n        * Initialize PokemonController\n        */\n         init(){\n\n            this.$pokedex.get('pokemon', this.$routeParams.id).then((response) => {\n                this.pokemon = this.PokemonModel;\n                this.pokemon.setData(response);\n            });\n\n            return true;\n        }\n\n        sendComment(){\n            this.pokemon.comment.save(this.comment.user, this.comment.text);\n\n            this.comment.user = '';\n            this.comment.text = '';\n        }\n\n    }\n\n    angular.module('app').controller('PokemonController', PokemonController);\n\n})(window.angular);\n","((angular, firebase) => {\n\n    'use strict';\n\n    class CommentModel {\n\n        constructor() {\n            this.all = [];\n\n            this.get();\n        }\n\n        setData(params){\n            this.pokemonName = params.name;\n        }\n\n        save(user, text){\n\n            let db = firebase.database().ref(this.pokemonName);\n\n            this.all.push({\n                user,\n                text\n            });\n\n            db.set(this.all);\n        }\n\n        get() {\n            let db = firebase.database().ref(this.pokemonName);\n\n            db.once('value').then((response) => {\n\n                if(response.val() && response.val()[this.pokemonName]){\n                    this.all = response.val()[this.pokemonName];\n                }\n\n            });\n        }\n\n\n        static instance(){\n            return CommentModel;\n        }\n\n    }\n\n    angular.module('app').factory('CommentModel', CommentModel.instance);\n\n})(window.angular, window.firebase);\n","((angular) => {\n\n    'use strict';\n\n    class PokemonModel {\n\n        constructor(CommentModel) {\n            this.CommentModel = CommentModel;\n        }\n\n        setData(params = {}){\n            this.name = params.name;\n\n            this.comment = new this.CommentModel();\n            this.comment.setData(this);\n        }\n\n        static create(CommentModel){\n            return new PokemonModel(CommentModel);\n        }\n\n\n    }\n\n    angular.module('app').factory('PokemonModel', PokemonModel.create);\n\n})(window.angular);\n"]}